# å¿«é€Ÿå‚è€ƒ

## ğŸ”– å¸¸ç”¨ä»£ç ç‰‡æ®µå’Œé€ŸæŸ¥è¡¨

æœ¬æ–‡æ¡£æä¾›è¿ç§»è¿‡ç¨‹ä¸­å¸¸ç”¨çš„ä»£ç ç‰‡æ®µå’Œå¯¹ç…§è¡¨ï¼Œæ–¹ä¾¿å¿«é€ŸæŸ¥é˜…ã€‚

---

## 1ï¸âƒ£ Canvas vs Cocos å¯¹ç…§è¡¨

### åæ ‡ç³»ç»Ÿ

| æ“ä½œ | HTML5 Canvas | Cocos Creator |
|------|-------------|---------------|
| **åŸç‚¹ä½ç½®** | å·¦ä¸Šè§’ (0, 0) | ä¸­å¿ƒç‚¹ï¼ˆå¯é…ç½®é”šç‚¹ï¼‰ |
| **Yè½´æ–¹å‘** | å‘ä¸‹ä¸ºæ­£ | å‘ä¸Šä¸ºæ­£ï¼ˆå¯é…ç½®ï¼‰ |
| **è®¾ç½®ä½ç½®** | æ‰‹åŠ¨ç»˜åˆ¶ x, y | `node.setPosition(x, y)` |
| **è·å–ä½ç½®** | å˜é‡å­˜å‚¨ | `node.position` |
| **ä¸–ç•Œåæ ‡** | æ‰‹åŠ¨è®¡ç®— | `node.getWorldPosition()` |

### æ¸²æŸ“å¯¹æ¯”

| æ“ä½œ | HTML5 Canvas | Cocos Creator |
|------|-------------|---------------|
| **ç»˜åˆ¶çŸ©å½¢** | `ctx.fillRect(x, y, w, h)` | `Sprite` ç»„ä»¶ |
| **ç»˜åˆ¶æ–‡å­—** | `ctx.fillText(text, x, y)` | `Label` ç»„ä»¶ |
| **ç»˜åˆ¶å›¾ç‰‡** | `ctx.drawImage(img, x, y)` | `Sprite` + SpriteFrame |
| **æ¸…ç©ºç”»å¸ƒ** | `ctx.clearRect()` | å¼•æ“è‡ªåŠ¨å¤„ç† |
| **è®¾ç½®é¢œè‰²** | `ctx.fillStyle = 'red'` | `sprite.color = Color.RED` |
| **è®¾ç½®é€æ˜åº¦** | `ctx.globalAlpha = 0.5` | `node.opacity = 128` |

### äº‹ä»¶ç›‘å¬

| äº‹ä»¶ç±»å‹ | HTML5 | Cocos Creator |
|---------|-------|---------------|
| **é”®ç›˜** | `addEventListener('keydown')` | `systemEvent.on(KEY_DOWN)` |
| **é¼ æ ‡** | `addEventListener('click')` | `node.on(TOUCH_START)` |
| **è§¦æ‘¸** | `addEventListener('touchstart')` | `node.on(TOUCH_START)` |
| **è‡ªå®šä¹‰** | `dispatchEvent()` | `node.emit('event-name')` |

---

## 2ï¸âƒ£ å¸¸ç”¨ Cocos API

### èŠ‚ç‚¹æ“ä½œ

```typescript
// åˆ›å»ºèŠ‚ç‚¹
const node = new Node('NodeName');

// æ·»åŠ å­èŠ‚ç‚¹
parent.addChild(node);

// ç§»é™¤èŠ‚ç‚¹
node.removeFromParent();
node.destroy();

// æŸ¥æ‰¾èŠ‚ç‚¹
const child = node.getChildByName('ChildName');
const component = node.getComponent(ComponentName);

// ä½ç½®æ“ä½œ
node.setPosition(x, y, z);
node.setWorldPosition(worldPos);
const pos = node.position;

// æ—‹è½¬å’Œç¼©æ”¾
node.setRotationFromEuler(0, 0, 45);
node.setScale(2, 2, 1);

// æ˜¾ç¤º/éšè—
node.active = false;
```

### ç»„ä»¶æ“ä½œ

```typescript
// æ·»åŠ ç»„ä»¶
const sprite = node.addComponent(Sprite);

// è·å–ç»„ä»¶
const label = node.getComponent(Label);

// ç§»é™¤ç»„ä»¶
node.removeComponent(Sprite);

// å¯ç”¨/ç¦ç”¨ç»„ä»¶
component.enabled = false;
```

### èµ„æºåŠ è½½

```typescript
// åŠ è½½å•ä¸ªèµ„æº
resources.load('path/to/asset', AssetType, (err, asset) => {
    if (!err) {
        // ä½¿ç”¨èµ„æº
    }
});

// åŠ è½½å¤šä¸ªèµ„æº
resources.loadDir('path/to/dir', (err, assets) => {
    // ...
});

// é‡Šæ”¾èµ„æº
resources.release('path/to/asset');

// é¢„åŠ è½½
resources.preload('path/to/asset', AssetType);
```

### åŠ¨ç”»

```typescript
// ä½¿ç”¨ Tween åŠ¨ç”»
tween(node)
    .to(1, { position: new Vec3(100, 100, 0) })
    .to(0.5, { scale: new Vec3(1.5, 1.5, 1) })
    .start();

// é“¾å¼è°ƒç”¨
tween(node)
    .by(1, { position: new Vec3(0, 100, 0) })
    .delay(0.5)
    .to(1, { opacity: 0 })
    .call(() => {
        node.destroy();
    })
    .start();
```

---

## 3ï¸âƒ£ ç±»å‹å®šä¹‰æ¨¡æ¿

### å•è¯æ•°æ®

```typescript
export interface WordData {
    word: string;
    phonetic: string;
    meaning: string;
    difficulty: number;
    missingIndices: number[];
    stressPositions: number[];
}
```

### æ¸¸æˆé…ç½®

```typescript
export interface GameConfig {
    canvasWidth: number;
    canvasHeight: number;
    baseFallSpeed: number;
    speedIncrement: number;
}
```

### ç»„ä»¶åŸºç±»æ¨¡æ¿

```typescript
import { _decorator, Component, Node } from 'cc';
const { ccclass, property } = _decorator;

@ccclass('ClassName')
export class ClassName extends Component {
    @property(Node)
    targetNode: Node = null;
    
    protected onLoad(): void {
        // ç»„ä»¶åŠ è½½å®Œæˆ
    }
    
    protected start(): void {
        // é¦–å¸§ä¹‹å‰
    }
    
    protected update(deltaTime: number): void {
        // æ¯å¸§æ›´æ–°
    }
    
    protected onDestroy(): void {
        // ç»„ä»¶é”€æ¯æ—¶æ¸…ç†
    }
}
```

---

## 4ï¸âƒ£ å¸¸ç”¨å·¥å…·å‡½æ•°

### éšæœºæ•°

```typescript
// èŒƒå›´éšæœºæ•°
function randomRange(min: number, max: number): number {
    return Math.random() * (max - min) + min;
}

// éšæœºæ•´æ•°
function randomInt(min: number, max: number): number {
    return Math.floor(randomRange(min, max + 1));
}

// éšæœºé€‰æ‹©
function randomChoice<T>(array: T[]): T {
    return array[Math.floor(Math.random() * array.length)];
}
```

### å‘é‡è®¡ç®—

```typescript
import { Vec2, Vec3, math } from 'cc';

// è·ç¦»è®¡ç®—
const distance = Vec3.distance(pos1, pos2);

// è§’åº¦è½¬å¼§åº¦
const radian = math.toRadian(45);

// å¼§åº¦è½¬è§’åº¦
const degree = math.toDegree(Math.PI / 4);

// å‘é‡æ’å€¼
const result = new Vec3();
Vec3.lerp(result, start, end, 0.5);
```

### å®šæ—¶å™¨

```typescript
// å»¶è¿Ÿæ‰§è¡Œ
this.scheduleOnce(() => {
    // æ‰§è¡Œä»£ç 
}, 2.0); // 2ç§’åæ‰§è¡Œ

// é‡å¤æ‰§è¡Œ
this.schedule(() => {
    // æ¯éš”1ç§’æ‰§è¡Œ
}, 1.0);

// å–æ¶ˆå®šæ—¶å™¨
this.unschedule(callback);
this.unscheduleAllCallbacks();
```

---

## 5ï¸âƒ£ è°ƒè¯•æŠ€å·§

### æ—¥å¿—è¾“å‡º

```typescript
// æ™®é€šæ—¥å¿—
console.log('ä¿¡æ¯');

// è­¦å‘Š
console.warn('è­¦å‘Š');

// é”™è¯¯
console.error('é”™è¯¯');

// å¸¦æ ·å¼çš„æ—¥å¿—
console.log('%cé‡è¦ä¿¡æ¯', 'color: red; font-size: 20px');
```

### æ€§èƒ½ç›‘æ§

```typescript
// å¼€å§‹è®¡æ—¶
console.time('æ“ä½œåç§°');

// æ‰§è¡Œæ“ä½œ
// ...

// ç»“æŸè®¡æ—¶
console.timeEnd('æ“ä½œåç§°');
```

### æ–­ç‚¹è°ƒè¯•

```typescript
// è®¾ç½®æ–­ç‚¹
debugger;

// æ¡ä»¶æ–­ç‚¹
if (someCondition) {
    debugger;
}
```

---

## 6ï¸âƒ£ æ€§èƒ½ä¼˜åŒ–æŠ€å·§

### å¯¹è±¡æ± 

```typescript
import { NodePool, instantiate } from 'cc';

private bulletPool: NodePool = new NodePool();

// è·å–å¯¹è±¡
getBullet(): Node {
    let bullet = this.bulletPool.size() > 0 
        ? this.bulletPool.get() 
        : instantiate(this.bulletPrefab);
    return bullet;
}

// å›æ”¶å¯¹è±¡
recycleBullet(bullet: Node): void {
    this.bulletPool.put(bullet);
}
```

### æ‰¹é‡æ“ä½œ

```typescript
// ä½¿ç”¨æ‰¹é‡æ›´æ–°å‡å°‘æ€§èƒ½å¼€é”€
const nodes: Node[] = [];
for (let i = 0; i < 100; i++) {
    const node = instantiate(prefab);
    nodes.push(node);
}
// ä¸€æ¬¡æ€§æ·»åŠ 
nodes.forEach(node => parent.addChild(node));
```

### é¿å…é¢‘ç¹åˆ›å»º

```typescript
// âŒ ä¸å¥½çš„åšæ³•
update(dt: number) {
    const pos = new Vec3(x, y, 0); // æ¯å¸§åˆ›å»ºæ–°å¯¹è±¡
    node.setPosition(pos);
}

// âœ… å¥½çš„åšæ³•
private tempPos: Vec3 = new Vec3();

update(dt: number) {
    this.tempPos.set(x, y, 0); // å¤ç”¨å¯¹è±¡
    node.setPosition(this.tempPos);
}
```

---

## 7ï¸âƒ£ å¿«æ·é”®

### Cocos Creator ç¼–è¾‘å™¨

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Ctrl + S` | ä¿å­˜åœºæ™¯ |
| `Ctrl + P` | é¢„è§ˆæ¸¸æˆ |
| `Ctrl + Shift + B` | æ„å»ºé¡¹ç›® |
| `Ctrl + D` | å¤åˆ¶èŠ‚ç‚¹ |
| `Delete` | åˆ é™¤èŠ‚ç‚¹ |
| `Ctrl + Z` | æ’¤é”€ |
| `Ctrl + Y` | é‡åš |
| `F2` | é‡å‘½å |

### Chrome å¼€å‘è€…å·¥å…·

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `F12` | æ‰“å¼€å¼€å‘è€…å·¥å…· |
| `Ctrl + Shift + C` | æ£€æŸ¥å…ƒç´  |
| `Ctrl + Shift + J` | æ‰“å¼€æ§åˆ¶å° |
| `F5` | åˆ·æ–°é¡µé¢ |
| `Ctrl + F5` | å¼ºåˆ¶åˆ·æ–° |

---

## 8ï¸âƒ£ å¸¸è§é”™è¯¯åŠè§£å†³

### é”™è¯¯ 1ï¼šèŠ‚ç‚¹æœªæ‰¾åˆ°

```typescript
// âŒ é”™è¯¯
const node = find('NodeName');
node.active = false; // å¯èƒ½æŠ¥é”™ï¼šCannot read property 'active' of null

// âœ… æ­£ç¡®
const node = find('NodeName');
if (node) {
    node.active = false;
}
```

### é”™è¯¯ 2ï¼šèµ„æºåŠ è½½å¤±è´¥

```typescript
// âœ… å§‹ç»ˆæ£€æŸ¥é”™è¯¯
resources.load('path', Type, (err, asset) => {
    if (err) {
        console.error('åŠ è½½å¤±è´¥:', err);
        return;
    }
    // ä½¿ç”¨èµ„æº
});
```

### é”™è¯¯ 3ï¼šç»„ä»¶æœªæŒ‚è½½

```typescript
// âŒ å‡è®¾ç»„ä»¶å­˜åœ¨
const component = node.getComponent(MyComponent);
component.doSomething(); // å¯èƒ½æŠ¥é”™

// âœ… æ£€æŸ¥ç»„ä»¶
const component = node.getComponent(MyComponent);
if (component) {
    component.doSomething();
}
```

---

## 9ï¸âƒ£ Git å‘½ä»¤é€ŸæŸ¥

```bash
# æŸ¥çœ‹çŠ¶æ€
git status

# æ·»åŠ æ–‡ä»¶
git add .
git add filename

# æäº¤
git commit -m "æäº¤ä¿¡æ¯"

# æ¨é€
git push origin main

# æ‹‰å–
git pull origin main

# åˆ›å»ºåˆ†æ”¯
git checkout -b branch-name

# åˆ‡æ¢åˆ†æ”¯
git checkout branch-name

# æŸ¥çœ‹æ—¥å¿—
git log --oneline
```

---

## ğŸ”Ÿ æœ‰ç”¨çš„ç½‘ç«™

- [Cocos Creator API æ–‡æ¡£](https://docs.cocos.com/creator/3.8/api/zh/)
- [TypeScript æ‰‹å†Œ](https://www.typescriptlang.org/docs/handbook/intro.html)
- [MDN Web Docs](https://developer.mozilla.org/)
- [Stack Overflow](https://stackoverflow.com/)
- [Cocos è®ºå›](https://forum.cocos.org/)

---

**å¿«é€Ÿå‚è€ƒå®Œæˆï¼** ğŸ¯

è¿”å›ï¼š[æ–‡æ¡£ç›®å½•](./README.md)




